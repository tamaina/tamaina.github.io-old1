<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>pages処理チートシート - tmin.xyz</title><!--**
*
* 🌟
*
*
*
--><link rel="canonical" href="https://tmin.xyz/docs/MDBuilder/pages/"><meta name="description" content="ページ配列pagesの処理方法をかんたんにまとめました。"><link rel="shortcut icon" href="/docs/favicon.ico" type="image/vnd.microsoft.icon"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-16x16.png" sizes="16x16"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-16x16.png" sizes="16x16" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-32x32.png" sizes="32x32"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-32x32.png" sizes="32x32" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-36x36.png" sizes="36x36"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-36x36.png" sizes="36x36" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-48x48.png" sizes="48x48"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-48x48.png" sizes="48x48" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-57x57.png" sizes="57x57"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-57x57.png" sizes="57x57" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-60x60.png" sizes="60x60"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-60x60.png" sizes="60x60" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-72x72.png" sizes="72x72"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-72x72.png" sizes="72x72" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-76x76.png" sizes="76x76"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-76x76.png" sizes="76x76" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-96x96.png" sizes="96x96"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-96x96.png" sizes="96x96" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-114x114.png" sizes="114x114"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-114x114.png" sizes="114x114" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-120x120.png" sizes="120x120"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-120x120.png" sizes="120x120" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-152x152.png" sizes="152x152"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-152x152.png" sizes="152x152" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-160x160.png" sizes="160x160"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-160x160.png" sizes="160x160" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-180x180.png" sizes="180x180"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-180x180.png" sizes="180x180" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-192x192.png" sizes="192x192"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-192x192.png" sizes="192x192" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-196x196.png" sizes="196x196"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-196x196.png" sizes="196x196" type="image/png"><link rel="apple-touch-icon" href="/docs/files/images/icons/favicon-600x600.png" sizes="600x600"><link rel="shortcut icon" href="/docs/files/images/icons/favicon-600x600.png" sizes="600x600" type="image/png"><link rel="manifest" href="/docs/manifest.json"><link href="/docs/assets/style.min.css" rel="stylesheet"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" crossorigin="anonymous"><link href="https://cdn.jsdelivr.net/npm/yakuhanjp/dist/css/yakuhanjp.min.css" rel="stylesheet" crossorigin="anonymous"><script src="/docs/assets/main.min.js" defer></script><script src="/docs/assets/pjax-api.min.js" defer></script><script src="/docs/assets/pjax-init.js" defer></script><script class='pjax-reload'>
  var disqus_config = function () {
    this.page.url = "https://tmin.xyz/docs/MDBuilder/pages/";
    this.page.identifier = "tmin.xyz/docs/MDBuilder/pages/";
  };
 // twbs/bootstrap build/sw.jsより借用
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('https://tmin.xyz/docs/service_worker.js').then(function(registration) {
      console.log('Service Workerは正常に登録されました: ', registration.scope);
        registration.onupdatefound = function () {
        var installingWorker = registration.installing
        installingWorker.onstatechange = function () {
          switch (installingWorker.state) {
            case 'installed':
              if (navigator.serviceWorker.controller) {
                console.log('ページの更新があります……')
                location.reload(true)
              }
              break
            default:
          }
        }
      }
    }).catch(function(err) {
      console.log('Service Workerを登録できませんでした: ', err);
    });
  }
// twbs/bootstrap build/sw.jsより借用
</script><meta name="theme-color" content="#2d88ef"><link rel="manifest" href="/docs/manifest.json"><link rel="alternate" href="https://github.com/tamaina/tamaina.github.io/commits/master.atom" type="application/atom+xml" title="tmin.xyz"><meta property="og:type" content="website"><meta property="og:title" content="pages処理チートシート - tmin.xyz"><meta property="og:description" content="ページ配列pagesの処理方法をかんたんにまとめました。"><meta property="og:image" content="https://tmin.xyz/docs/files/images/icons/favicon-600x600.png"><meta property="og:image" content="https://tmin.xyz/docs/files/images/icons/favicon-600x600.png"><meta property="og:url" content="https://tmin.xyz/docs/MDBuilder/pages/"><meta property="og:site_name" content="tmin.xyz"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://tmin.xyz/docs/files/images/icons/favicon-600x600.png"><meta name="twitter:title" content="pages処理チートシート - tmin.xyz"><meta name="twitter:description" content="ページ配列pagesの処理方法をかんたんにまとめました。"><meta name="twitter:site" content="aqzti"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-107753466-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-107753466-1');
</script>
</head><body><nav class="navbar navbar-dark bg-dark sticky-top flex-row p-0" id="mainnav"><a class="navbar-brand" href="/docs/" id="navbar_brand"><img class="d-inline-block align-top" src="/docs/files/images/icons/favicon-96x96.png" width="30" height="30" alt="ICON"><div class="navbar-brand-text">tmin.xyz</div></a><div id="navbar_items"><div class="navbar-nav flex-row justify-content-center"><a class="text-light nav-item nav-link px-3" href="/docs/MDBuilder/">MDBuilder</a><a class="text-light nav-item nav-link px-3" href="/docs/blog/">ブログ</a><a class="text-light nav-item nav-link px-3" href="https://chirno.tmin.xyz/" target="_blank" rel="noopener">Chirno<i class="fa fa-external-link fa-fw" aria-hidden="true"></i></a><a class="text-light nav-item nav-link px-3" href="http://tmin.xyz/The-Japanese-Web-Fonts/#!index.md" target="_blank" rel="noopener">🇯🇵WebFont<i class="fa fa-external-link fa-fw" aria-hidden="true"></i></a></div></div></nav><nav class="bg-dark" aria-label="breadcrumb" id="breadcrumb"><div class="container"><ol class="breadcrumb bg-dark text-white m-0 py-1"><li class="breadcrumb-item"><a class="py-1" href="/docs/">Home</a></li><li class="breadcrumb-item"><a class="py-1" href="/docs/MDBuilder/">About MDBuilder</a></li><li class="breadcrumb-item" aria-current="page">pages処理チートシート</li></ol></div></nav><div class="container py-5" id="main"><article class="row" id="article_maincontent"><header class="w-100 order-1 p-2"><h1>pages処理チートシート</h1><ul class="list-unstyled"><li><i class="fa fa-file-text-o fa-fw" aria-hidden="true"></i><time datetime="2017-10-29T03:36:04.247Z">2017年10月29日 12:36</time> 作成</li><li><i class="fa fa-clock-o fa-fw" aria-hidden="true"></i><time datetime="2017-11-04T13:18:48.722Z">2017年11月4日 22:18</time> 更新</li></ul></header><div class="my-2 p-3 col-lg-3 col-12 order-lg-3 order-2 bg-light" id="article_sidenav"><ul class="list-unstyled ml-3"><li><a href="#-pages-%E3%83%9E%E3%83%83%E3%83%97%E3%81%A8%E8%A6%81%E7%B4%A0-page"><code>pages</code>マップと要素(page)</a></li><ul class="list-unstyled ml-3"><li><a href="#-meta"><code>.meta</code></a></li><ul class="list-unstyled ml-3"><li><a href="#-meta-src-meta-subdir"><code>.meta.src*</code>, <code>.meta.subdir</code></a></li><li><a href="#-meta-md5-meta-sha384"><code>.meta.md5</code>, <code>.meta.sha384</code></a></li><li><a href="#-meta-mtime-meta-birthtime"><code>.meta.mtime</code>, <code>.meta.birthtime</code></a></li><li><a href="#-meta-premalink"><code>.meta.premalink</code></a></li></ul><li><a href="#-attributes"><code>.attributes</code></a></li><li><a href="#-body-frontmatter"><code>.body</code>, <code>.frontmatter</code></a></li><li><a href="#-stats"><code>.stats</code></a></li></ul><li><a href="#pages%E9%85%8D%E5%88%97%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9%E3%81%AE%E4%BE%8B">pages配列の使い方の例</a></li><ul class="list-unstyled ml-3"><li><a href="#%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E4%BB%A5%E4%B8%8B%E3%82%92%E7%BE%85%E5%88%97%E3%81%99%E3%82%8B">ディレクトリ以下を羅列する</a></li><li><a href="#%E6%9B%B4%E6%96%B0%E6%97%A5%E6%99%82%E3%81%8C%E5%89%8D%E3%81%AE%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%BB%E6%AC%A1%E3%81%AE%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B">更新日時が前のページ・次のページを表示する</a></li></ul></div><section class="py-2 col-lg-9 col-12 order-lg-2 order-3"><h2 class="pt-5" id="-pages-%E3%83%9E%E3%83%83%E3%83%97%E3%81%A8%E8%A6%81%E7%B4%A0-page"><code>pages</code>マップと要素(page)</h2><p><code>info.json</code>でjson化したデータを見ることができます。</p><p>便宜上pagesの各要素をpageと呼びます。</p><p><strong>これらの情報はビルド前に決定されます</strong>ので、ビルド後のhtmlの情報は一切含まれていません。すべてソースのmdファイルから得られた情報です。</p><pre><code class="json">{
    <span class="hljs-attr">"pages"</span>: [
        {
            <span class="hljs-attr">"meta"</span>: {
                <span class="hljs-attr">"srcname"</span>: <span class="hljs-string">"hoge"</span>,
                <span class="hljs-attr">"srcext"</span>: <span class="hljs-string">".md"</span>,
                <span class="hljs-attr">"subdir"</span>: <span class="hljs-string">"foo/bar"</span>,
                <span class="hljs-attr">"md5"</span>: <span class="hljs-string">"16373b01c4af2da0986dbdf1c0b413b4"</span>,
                <span class="hljs-attr">"sha384"</span>: <span class="hljs-string">"OAZAV1YnEdrl6phd0dJT1rFBgkKTe3rYhCEbccJV4nzcrm/xoS5SN2OmfjsZkTZk"</span>,
                <span class="hljs-attr">"mtime"</span>: <span class="hljs-string">"2100-12-26T09:13:20.778Z"</span>,
                <span class="hljs-attr">"birthtime"</span>: <span class="hljs-string">"2017-08-18T19:35:21.010Z"</span>,
                <span class="hljs-attr">"permalink"</span>: <span class="hljs-string">"/foo/bar/hoge/"</span>
            },
            <span class="hljs-attr">"attributes"</span>: {
                <span class="hljs-attr">"title"</span>: <span class="hljs-string">"ほげほげ"</span>,
                <span class="hljs-attr">"description"</span>: <span class="hljs-string">"ほげほげ、ふー、ばー！何か概要を書くよ！"</span>,
                <span class="hljs-attr">"layout"</span>: <span class="hljs-string">"article"</span>,
                <span class="hljs-attr">"date"</span>: <span class="hljs-string">"2100-12-26T09:13:20.778Z"</span>,
                <span class="hljs-attr">"published"</span>: <span class="hljs-string">"true"</span>
            },
            <span class="hljs-attr">"body"</span>: <span class="hljs-string">"MARKDOWNの例\r\n\r\n## 見出し！ \r\n\r\n本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文本文"</span>,
            <span class="hljs-attr">"frontmatter"</span>: <span class="hljs-string">"title: ほげほげ\r\ndescription: ほげほげ、ふー、ばー！何か概要を書くよ！\r\nlayout: article\r\ndate: 2100-12-26T18:13:20.778+09:00"</span>,
            <span class="hljs-attr">"stats"</span>: {
                <span class="hljs-attr">"dev"</span>: <span class="hljs-number">3807904075</span>,
                <span class="hljs-attr">"mode"</span>: <span class="hljs-number">33206</span>,
                <span class="hljs-attr">"nlink"</span>: <span class="hljs-number">1</span>,
                <span class="hljs-attr">"uid"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"gid"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"rdev"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"ino"</span>: <span class="hljs-number">2814749767140380</span>,
                <span class="hljs-attr">"size"</span>: <span class="hljs-number">235</span>,
                <span class="hljs-attr">"atimeMs"</span>: <span class="hljs-number">1503084921010</span>,
                <span class="hljs-attr">"mtimeMs"</span>: <span class="hljs-number">1508516542000.563</span>,
                <span class="hljs-attr">"ctimeMs"</span>: <span class="hljs-number">1508516542000.563</span>,
                <span class="hljs-attr">"birthtimeMs"</span>: <span class="hljs-number">1503084921010.212</span>,
                <span class="hljs-attr">"atime"</span>: <span class="hljs-string">"2017-08-18T19:35:21.010Z"</span>,
                <span class="hljs-attr">"mtime"</span>: <span class="hljs-string">"2017-10-20T16:22:22.001Z"</span>,
                <span class="hljs-attr">"ctime"</span>: <span class="hljs-string">"2017-10-20T16:22:22.001Z"</span>,
                <span class="hljs-attr">"birthtime"</span>: <span class="hljs-string">"2017-08-18T19:35:21.010Z"</span>
            }
        }
    ]
}
</code></pre><h3 class="pt-5" id="-meta"><code>.meta</code></h3><p>metaにはビルド時に必要と思われる情報をまとめて記述しています。attributesとstatsのどちらかを選択したり、ソースの情報が挿入されたりしています。</p><p>頻繁に利用する配列といえます。</p><h4 class="pt-5" id="-meta-src-meta-subdir"><code>.meta.src*</code>, <code>.meta.subdir</code></h4><p><code>srcname</code> <code>srcext</code>はそれぞれソースの名前と拡張子が挿入されています。<br><code>subdir</code>にはソースディレクトリ以下のサブディレクトリの情報が挿入されています。 通常は、<code>/srcdir/srcname/</code>が,meta.permalinkになるはずです。</p><h4 class="pt-5" id="-meta-md5-meta-sha384"><code>.meta.md5</code>, <code>.meta.sha384</code></h4><p><code>body</code>の内容を各ハッシュ値にしてあります。</p><h4 class="pt-5" id="-meta-mtime-meta-birthtime"><code>.meta.mtime</code>, <code>.meta.birthtime</code></h4><p><code>mtime</code>は更新日時、<code>birthtime</code>は作成日時が挿入されています。</p><p>通常は<code>stats</code>の値がそのまま挿入されますが、yaml front-matterで各値を書き換えるとここに反映されます。</p><h4 class="pt-5" id="-meta-premalink"><code>.meta.premalink</code></h4><p>必ず<code>/</code>から始まり<code>/</code>で終わるリンクが格納されています。</p><h3 class="pt-5" id="-attributes"><code>.attributes</code></h3><p><code>frontmatter</code>が加工されたマップです。npmパッケージ「front-matter」が生成します。</p><h3 class="pt-5" id="-body-frontmatter"><code>.body</code>, <code>.frontmatter</code></h3><p>npmパッケージ「front-matter」によってソースファイルのfront-matterと本文が分離して挿入されています。</p><h3 class="pt-5" id="-stats"><code>.stats</code></h3><p><a href="https://nodejs.org/api/fs.html#fs_class_fs_stats" target="_blank" rel="noopener">node.jsのfs.Stats</a>がそのまま格納されます。</p><h2 class="pt-5" id="pages%E9%85%8D%E5%88%97%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9%E3%81%AE%E4%BE%8B">pages配列の使い方の例</h2><p>json形式ですので、javascriptで配列として様々な加工をすることができます。</p><p>基本的にはpugで処理する形になりますが、他のテンプレートエンジンでももちろん大丈夫です。</p><h3 class="pt-5" id="%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E4%BB%A5%E4%B8%8B%E3%82%92%E7%BE%85%E5%88%97%E3%81%99%E3%82%8B">ディレクトリ以下を羅列する</h3><p>→ソースの<code>pages/blog/index.pug</code>をお読みください。</p><h3 class="pt-5" id="%E6%9B%B4%E6%96%B0%E6%97%A5%E6%99%82%E3%81%8C%E5%89%8D%E3%81%AE%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%BB%E6%AC%A1%E3%81%AE%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B">更新日時が前のページ・次のページを表示する</h3><p>→ソースの<code>theme/pug/blog.pug</code>をお読みください。</p></section></article></div><div class="container py-5"><div id="disqus_wrap"><div id="disqus_thread"></div></div></div><div class="py-3 bg-light" id="footer_wrap"><footer class="container"><p>Copyright: tamaina</p><p class="m-0">Site published by MarkDown Builder</p></footer></div><div id="share_modal_open_button"><div class="container-fluid"><button class="btn btn-primary rounded-circle my-lg-4 my-2" type="button" data-toggle="modal" data-target="#share_modal" aria-labelledby="share_modal_label"><i class="fa fa-share-square-o fa-fw" aria-hidden="true"></i></button></div></div><div class="modal fade" id="share_modal" tabindex="-1" role="dialog" aria-labelledby="share_modal_label" aria-hidden="true"><div class="modal-dialog modal-dialog-centered" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="fa fa-share-square-o fa-fw" aria-hidden="true"></i>シェア</h5><button class="close" type="button" data-dismiss="modal" aria-label="閉じる"><span aria-hidden="true">&times;</span></button></div><div class="modal-body" id="share_modal_body"><p id="share_modal_label">「pages処理チートシート」をSNSで共有</p><a class="twitter-share-button" href="https://twitter.com/share?ref_src=twsrc%5Etfw" data-show-count="true">Tweet</a> <a class="twitter-follow-button" href="https://twitter.com/aqzti?ref_src=twsrc%5Etfw" data-show-count="false">Follow @aqzti</a> <br><div class="line-it-button" style="display: none;" data-lang="ja" data-type="share-a" data-url="https://tmin.xyz/docs/MDBuilder/pages/"></div><br><div class="fb-share-button" data-href="https://tmin.xyz/docs/MDBuilder/pages/" data-layout="button_count" data-size="small" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ftmin.xyz%2Fdocs%2FMDBuilder%2Fpages%2F">シェア</a></div></div></div></div></div><div id="fb-root"></div><script>var readButtonScripts = false

$("#share_modal").on("shown.bs.modal",function(){
  if(!readButtonScripts){
    $("body").append("<script src='https://connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.11&appId=1216117028459212' id='facebook-jssdk'></script>").append("<script src='https://platform.twitter.com/widgets.js'></script>").append("<script src='https://d.line-scdn.net/r/web/social-plugin/js/thirdparty/loader.min.js'></script>")
    readButtonScripts = true;
}});</script><!--WE'RE SUPER CREW
--><script>(function() {var d = document, s = d.createElement('script');s.src = 'https://tminxyz.disqus.com/embed.js';s.setAttribute('data-timestamp', +new Date());(d.head || d.body).appendChild(s);})();</script></body></html>